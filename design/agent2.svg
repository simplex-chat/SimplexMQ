<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: SMPAgent Pages: 1 -->
<svg width="1101pt" height="1156pt"
 viewBox="0.00 0.00 1101.00 1155.54" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1151.5374)">
<title>SMPAgent</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1151.5374 1097,-1151.5374 1097,4 -4,4"/>
<g id="clust1" class="cluster">
<title>clusterPersistence</title>
<polygon fill="none" stroke="#c0c0c0" points="927,-512.7374 927,-628.5874 1085,-628.5874 1085,-512.7374 927,-512.7374"/>
<text text-anchor="middle" x="1006" y="-614.6874" font-family="arial" font-size="11.00" fill="#000000">persistence (sqlite)</text>
<text text-anchor="middle" x="1006" y="-601.4874" font-family="arial" font-size="11.00" fill="#000000">Q: can multiple threads use it</text>
</g>
<g id="clust2" class="cluster">
<title>clusterAgent</title>
<polygon fill="none" stroke="#c0c0c0" points="175,-976.5624 175,-1053.3624 389,-1053.3624 389,-976.5624 175,-976.5624"/>
<text text-anchor="middle" x="282" y="-1036.7624" font-family="arial" font-size="14.00" fill="#000000">agent threads</text>
</g>
<g id="clust4" class="cluster">
<title>clusterUserTCP</title>
<polygon fill="none" stroke="#c0c0c0" points="8,-509.375 8,-946.5624 230,-946.5624 230,-509.375 8,-509.375"/>
<text text-anchor="middle" x="119" y="-929.9624" font-family="arial" font-size="14.00" fill="#000000">1 group per user TCP connection</text>
</g>
<g id="clust5" class="cluster">
<title>clusterUserTCPThreads</title>
<polygon fill="none" stroke="#c0c0c0" points="38,-517.375 38,-610.7499 222,-610.7499 222,-517.375 38,-517.375"/>
<text text-anchor="middle" x="130" y="-596.8499" font-family="arial" font-size="11.00" fill="#000000">user TCP threads</text>
</g>
<g id="clust6" class="cluster">
<title>clusterUser</title>
<polygon fill="none" stroke="#c0c0c0" points="250,-8 250,-839.7624 919,-839.7624 919,-8 250,-8"/>
<text text-anchor="middle" x="584.5" y="-823.1624" font-family="arial" font-size="14.00" fill="#000000">1 group per user TCP connection</text>
</g>
<g id="clust7" class="cluster">
<title>clusterUserInterface</title>
<polygon fill="none" stroke="#c0c0c0" points="258,-400.375 258,-485.175 419,-485.175 419,-400.375 258,-400.375"/>
<text text-anchor="middle" x="338.5" y="-471.275" font-family="arial" font-size="11.00" fill="#000000">user queues</text>
</g>
<g id="clust8" class="cluster">
<title>clusterUserThreads</title>
<polygon fill="none" stroke="#c0c0c0" points="622,-647.5874 622,-806.9624 865,-806.9624 865,-647.5874 622,-647.5874"/>
<text text-anchor="middle" x="743.5" y="-793.0624" font-family="arial" font-size="11.00" fill="#000000">user threads</text>
<text text-anchor="middle" x="743.5" y="-779.8624" font-family="arial" font-size="11.00" fill="#000000">Note: `user agent` sends</text>
<text text-anchor="middle" x="743.5" y="-766.6624" font-family="arial" font-size="11.00" fill="#000000">all commands to `commands TBQueue`s</text>
<text text-anchor="middle" x="743.5" y="-753.4624" font-family="arial" font-size="11.00" fill="#000000">(invalid commands with attached responses),</text>
<text text-anchor="middle" x="743.5" y="-740.2624" font-family="arial" font-size="11.00" fill="#000000">and only valid commands to `server TBQueue`.</text>
<text text-anchor="middle" x="743.5" y="-727.0624" font-family="arial" font-size="11.00" fill="#000000">It is used to respond in correct order.</text>
</g>
<g id="clust10" class="cluster">
<title>clusterClient</title>
<polygon fill="none" stroke="#c0c0c0" points="427,-128.6 427,-482.975 812,-482.975 812,-128.6 427,-128.6"/>
<text text-anchor="middle" x="619.5" y="-466.375" font-family="arial" font-size="14.00" fill="#000000">1 group per SMP client/server connection</text>
</g>
<g id="clust11" class="cluster">
<title>clusterServerThreads</title>
<polygon fill="none" stroke="#c0c0c0" points="564,-136.6 564,-229.975 758,-229.975 758,-136.6 564,-136.6"/>
<text text-anchor="middle" x="661" y="-216.075" font-family="arial" font-size="11.00" fill="#000000">SMP client threads</text>
</g>
<!-- main -->
<g id="node1" class="node">
<title>main</title>
<polygon fill="none" stroke="#ffa500" points="382.542,-1119.4499 363.271,-1147.6251 324.729,-1147.6251 305.458,-1119.4499 324.729,-1091.2747 363.271,-1091.2747 382.542,-1119.4499"/>
<text text-anchor="middle" x="344" y="-1122.7499" font-family="arial" font-size="11.00" fill="#000000">main</text>
<text text-anchor="middle" x="344" y="-1109.5499" font-family="arial" font-size="11.00" fill="#000000">thread</text>
</g>
<!-- connectClnt -->
<g id="node4" class="node">
<title>connectClnt</title>
<polygon fill="none" stroke="#ffa500" points="288.8246,-1002.5624 262.4123,-1020.5624 209.5877,-1020.5624 183.1754,-1002.5624 209.5877,-984.5624 262.4123,-984.5624 288.8246,-1002.5624"/>
<text text-anchor="middle" x="236" y="-999.2624" font-family="arial" font-size="11.00" fill="#000000">connectClnt</text>
</g>
<!-- main&#45;&gt;connectClnt -->
<g id="edge1" class="edge">
<title>main&#45;&gt;connectClnt</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M321.6223,-1095.2307C303.5136,-1075.6318 278.0793,-1048.1044 259.6406,-1028.1484"/>
<polygon fill="#ffa500" stroke="#ffa500" points="252.7011,-1020.6378 262.7926,-1024.9288 256.0942,-1024.3102 259.4874,-1027.9826 259.4874,-1027.9826 259.4874,-1027.9826 256.0942,-1024.3102 256.1823,-1031.0365 252.7011,-1020.6378 252.7011,-1020.6378"/>
<text text-anchor="middle" x="308.7235" y="-1064.3624" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- runClnt -->
<g id="node5" class="node">
<title>runClnt</title>
<polygon fill="none" stroke="#ffa500" points="380.5019,-1002.5624 362.251,-1020.5624 325.749,-1020.5624 307.4981,-1002.5624 325.749,-984.5624 362.251,-984.5624 380.5019,-1002.5624"/>
<text text-anchor="middle" x="344" y="-999.2624" font-family="arial" font-size="11.00" fill="#000000">runClnt</text>
</g>
<!-- main&#45;&gt;runClnt -->
<g id="edge2" class="edge">
<title>main&#45;&gt;runClnt</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M344,-1091.1547C344,-1072.8552 344,-1049.1253 344,-1030.831"/>
<polygon fill="#ffa500" stroke="#ffa500" points="344,-1020.7699 348.5001,-1030.7699 344,-1025.7699 344.0001,-1030.7699 344.0001,-1030.7699 344.0001,-1030.7699 344,-1025.7699 339.5001,-1030.77 344,-1020.7699 344,-1020.7699"/>
<text text-anchor="middle" x="353.7235" y="-1064.3624" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- aSock -->
<g id="node2" class="node">
<title>aSock</title>
<polygon fill="none" stroke="#006400" points="287.8624,-1137.4499 160.1376,-1137.4499 160.1376,-1101.4499 287.8624,-1101.4499 287.8624,-1137.4499"/>
<text text-anchor="middle" x="224" y="-1116.1499" font-family="arial" font-size="11.00" fill="#000000">user agent TCP socket</text>
</g>
<!-- aSock&#45;&gt;connectClnt -->
<g id="edge3" class="edge">
<title>aSock&#45;&gt;connectClnt</title>
<path fill="none" stroke="#006400" d="M225.8487,-1101.4424C227.781,-1082.621 230.8399,-1052.8253 233.0952,-1030.8565"/>
<polygon fill="#006400" stroke="#006400" points="234.1294,-1020.783 237.5845,-1031.1903 233.6188,-1025.7568 233.1081,-1030.7307 233.1081,-1030.7307 233.1081,-1030.7307 233.6188,-1025.7568 228.6316,-1030.2711 234.1294,-1020.783 234.1294,-1020.783"/>
</g>
<!-- connectionsStore -->
<g id="node3" class="node">
<title>connectionsStore</title>
<path fill="none" stroke="#000000" d="M1048.7017,-580.4228C1048.7017,-583.7287 1023.2871,-586.414 992,-586.414 960.7129,-586.414 935.2983,-583.7287 935.2983,-580.4228 935.2983,-580.4228 935.2983,-526.5021 935.2983,-526.5021 935.2983,-523.1962 960.7129,-520.5109 992,-520.5109 1023.2871,-520.5109 1048.7017,-523.1962 1048.7017,-526.5021 1048.7017,-526.5021 1048.7017,-580.4228 1048.7017,-580.4228"/>
<path fill="none" stroke="#000000" d="M1048.7017,-580.4228C1048.7017,-577.117 1023.2871,-574.4316 992,-574.4316 960.7129,-574.4316 935.2983,-577.117 935.2983,-580.4228"/>
<text text-anchor="middle" x="992" y="-563.3624" font-family="arial" font-size="11.00" fill="#000000">duplex connections,</text>
<text text-anchor="middle" x="992" y="-550.1624" font-family="arial" font-size="11.00" fill="#000000">SMP queues,</text>
<text text-anchor="middle" x="992" y="-536.9624" font-family="arial" font-size="11.00" fill="#000000">recent messages</text>
</g>
<!-- uSock -->
<g id="node6" class="node">
<title>uSock</title>
<polygon fill="none" stroke="#006400" points="169.5337,-913.7624 16.4663,-913.7624 16.4663,-877.7624 169.5337,-877.7624 169.5337,-913.7624"/>
<text text-anchor="middle" x="93" y="-892.4624" font-family="arial" font-size="11.00" fill="#000000">user connection TCP socket</text>
</g>
<!-- connectClnt&#45;&gt;uSock -->
<g id="edge23" class="edge">
<title>connectClnt&#45;&gt;uSock</title>
<path fill="none" stroke="#006400" stroke-dasharray="5,2" d="M198.6778,-991.837C182.4066,-986.0176 163.7253,-977.6984 148.985,-966.5624 133.1431,-954.5941 119.2685,-937.1297 109.2945,-922.5413"/>
<polygon fill="#006400" stroke="#006400" points="103.6056,-913.9046 112.8644,-919.7804 106.356,-918.0801 109.1064,-922.2557 109.1064,-922.2557 109.1064,-922.2557 106.356,-918.0801 105.3483,-924.7311 103.6056,-913.9046 103.6056,-913.9046"/>
<text text-anchor="middle" x="165.5075" y="-957.5624" font-family="arial" font-size="10.00" fill="#006400">connect</text>
</g>
<!-- uRcv -->
<g id="node7" class="node">
<title>uRcv</title>
<polygon fill="none" stroke="#ffa500" points="214.0134,-553.4624 193.0067,-581.6377 150.9933,-581.6377 129.9866,-553.4624 150.9933,-525.2872 193.0067,-525.2872 214.0134,-553.4624"/>
<text text-anchor="middle" x="172" y="-556.7624" font-family="arial" font-size="11.00" fill="#000000">user</text>
<text text-anchor="middle" x="172" y="-543.5624" font-family="arial" font-size="11.00" fill="#000000">receive</text>
</g>
<!-- connectClnt&#45;&gt;uRcv -->
<g id="edge24" class="edge">
<title>connectClnt&#45;&gt;uRcv</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M236.7138,-984.329C238.3824,-930.3168 240.214,-766.7987 208,-636.5874 204.1948,-621.2065 197.8088,-605.0572 191.4628,-591.1266"/>
<polygon fill="#ffa500" stroke="#ffa500" points="187.108,-581.8736 195.438,-589.0053 189.2372,-586.3976 191.3664,-590.9216 191.3664,-590.9216 191.3664,-590.9216 189.2372,-586.3976 187.2948,-592.8379 187.108,-581.8736 187.108,-581.8736"/>
<text text-anchor="middle" x="244.7235" y="-850.7624" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- uSnd -->
<g id="node8" class="node">
<title>uSnd</title>
<polygon fill="none" stroke="#ffa500" points="111.5662,-553.4624 95.2831,-581.6377 62.7169,-581.6377 46.4338,-553.4624 62.7169,-525.2872 95.2831,-525.2872 111.5662,-553.4624"/>
<text text-anchor="middle" x="79" y="-556.7624" font-family="arial" font-size="11.00" fill="#000000">user</text>
<text text-anchor="middle" x="79" y="-543.5624" font-family="arial" font-size="11.00" fill="#000000">send</text>
</g>
<!-- connectClnt&#45;&gt;uSnd -->
<g id="edge25" class="edge">
<title>connectClnt&#45;&gt;uSnd</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M232.6954,-984.5264C227.2453,-954.5316 216.1632,-892.4768 208,-839.7624 201.0253,-794.7225 212.2627,-668.7799 180,-636.5874 161.268,-617.8963 142.8716,-643.4831 121,-628.5874 107.8547,-619.6348 98.3799,-605.1402 91.7958,-591.2595"/>
<polygon fill="#ffa500" stroke="#ffa500" points="87.6899,-581.8235 95.8062,-589.1975 89.6849,-586.4083 91.6799,-590.993 91.6799,-590.993 91.6799,-590.993 89.6849,-586.4083 87.5537,-592.7886 87.6899,-581.8235 87.6899,-581.8235"/>
<text text-anchor="middle" x="219.7235" y="-850.7624" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- uAgent -->
<g id="node11" class="node">
<title>uAgent</title>
<polygon fill="none" stroke="#ffa500" points="715.5622,-683.6749 697.7811,-711.8502 662.2189,-711.8502 644.4378,-683.6749 662.2189,-655.4997 697.7811,-655.4997 715.5622,-683.6749"/>
<text text-anchor="middle" x="680" y="-686.9749" font-family="arial" font-size="11.00" fill="#000000">user</text>
<text text-anchor="middle" x="680" y="-673.7749" font-family="arial" font-size="11.00" fill="#000000">agent</text>
</g>
<!-- runClnt&#45;&gt;uAgent -->
<g id="edge26" class="edge">
<title>runClnt&#45;&gt;uAgent</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M363.0275,-984.504C418.9032,-931.4741 582.8091,-775.9159 650.3686,-711.7972"/>
<polygon fill="#ffa500" stroke="#ffa500" points="657.7387,-704.8025 653.5831,-714.9505 654.112,-708.2444 650.4853,-711.6864 650.4853,-711.6864 650.4853,-711.6864 654.112,-708.2444 647.3875,-708.4224 657.7387,-704.8025 657.7387,-704.8025"/>
<text text-anchor="middle" x="482.7235" y="-892.7624" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- uProcess -->
<g id="node12" class="node">
<title>uProcess</title>
<polygon fill="none" stroke="#ffa500" points="849.4801,-683.6749 822.24,-711.8502 767.76,-711.8502 740.5199,-683.6749 767.76,-655.4997 822.24,-655.4997 849.4801,-683.6749"/>
<text text-anchor="middle" x="795" y="-686.9749" font-family="arial" font-size="11.00" fill="#000000">process</text>
<text text-anchor="middle" x="795" y="-673.7749" font-family="arial" font-size="11.00" fill="#000000">responses</text>
</g>
<!-- runClnt&#45;&gt;uProcess -->
<g id="edge27" class="edge">
<title>runClnt&#45;&gt;uProcess</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M375.4171,-997.4599C446.9624,-984.2733 623.6511,-942.6235 725,-839.7624 757.4412,-806.8372 776.3095,-756.2546 786.1177,-721.6539"/>
<polygon fill="#ffa500" stroke="#ffa500" points="788.7618,-711.9069 790.4867,-722.7363 787.4527,-716.7325 786.1436,-721.5581 786.1436,-721.5581 786.1436,-721.5581 787.4527,-716.7325 781.8006,-720.3799 788.7618,-711.9069 788.7618,-711.9069"/>
<text text-anchor="middle" x="686.7235" y="-892.7624" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- uSock&#45;&gt;uRcv -->
<g id="edge4" class="edge">
<title>uSock&#45;&gt;uRcv</title>
<path fill="none" stroke="#006400" d="M97.2474,-877.3589C109.7054,-823.3795 146.3345,-664.6687 163.2519,-591.3672"/>
<polygon fill="#006400" stroke="#006400" points="165.5036,-581.6106 167.6395,-592.3665 164.3792,-586.4826 163.2547,-591.3545 163.2547,-591.3545 163.2547,-591.3545 164.3792,-586.4826 158.87,-590.3425 165.5036,-581.6106 165.5036,-581.6106"/>
</g>
<!-- uInq -->
<g id="node9" class="node">
<title>uInq</title>
<polygon fill="none" stroke="#000000" points="392.5723,-449.7766 347.4277,-449.7766 347.4277,-414.5733 392.5723,-414.5733 392.5723,-408.5733 410.5723,-432.175 392.5723,-455.7766 392.5723,-449.7766"/>
<text text-anchor="middle" x="379" y="-442.075" font-family="arial" font-size="11.00" fill="#000000">user</text>
<text text-anchor="middle" x="379" y="-428.875" font-family="arial" font-size="11.00" fill="#000000">receive</text>
<text text-anchor="middle" x="379" y="-415.675" font-family="arial" font-size="11.00" fill="#000000">TBQueue</text>
</g>
<!-- uRcv&#45;&gt;uInq -->
<g id="edge6" class="edge">
<title>uRcv&#45;&gt;uInq</title>
<path fill="none" stroke="#006400" d="M207.752,-544.8492C243.6388,-534.9021 299.1678,-515.8485 339,-485.175 346.5794,-479.3383 353.4481,-471.7165 359.2704,-464.0802"/>
<polygon fill="#006400" stroke="#006400" points="365.1617,-455.8721 362.9865,-466.6201 362.2462,-459.9341 359.3307,-463.9961 359.3307,-463.9961 359.3307,-463.9961 362.2462,-459.9341 355.6749,-461.3722 365.1617,-455.8721 365.1617,-455.8721"/>
</g>
<!-- uOutq -->
<g id="node10" class="node">
<title>uOutq</title>
<polygon fill="none" stroke="#000000" points="329.5723,-449.7766 284.4277,-449.7766 284.4277,-455.7766 266.4277,-432.175 284.4277,-408.5733 284.4277,-414.5733 329.5723,-414.5733 329.5723,-449.7766"/>
<text text-anchor="middle" x="298" y="-442.075" font-family="arial" font-size="11.00" fill="#000000">user</text>
<text text-anchor="middle" x="298" y="-428.875" font-family="arial" font-size="11.00" fill="#000000">send</text>
<text text-anchor="middle" x="298" y="-415.675" font-family="arial" font-size="11.00" fill="#000000">TBQueue</text>
</g>
<!-- uRcv&#45;&gt;uOutq -->
<g id="edge10" class="edge">
<title>uRcv&#45;&gt;uOutq</title>
<path fill="none" stroke="#00ff00" d="M196.5932,-529.7891C216.4531,-510.6719 244.5472,-483.6285 266.1304,-462.8527"/>
<polygon fill="#00ff00" stroke="#00ff00" points="273.4688,-455.7886 269.3851,-465.9658 269.8666,-459.2562 266.2643,-462.7237 266.2643,-462.7237 266.2643,-462.7237 269.8666,-459.2562 263.1435,-459.4817 273.4688,-455.7886 273.4688,-455.7886"/>
</g>
<!-- uSnd&#45;&gt;uSock -->
<g id="edge5" class="edge">
<title>uSnd&#45;&gt;uSock</title>
<path fill="none" stroke="#006400" d="M80.1513,-581.6106C82.7763,-645.794 89.1819,-802.4103 91.8274,-867.0919"/>
<polygon fill="#006400" stroke="#006400" points="92.2473,-877.3589 87.3423,-867.5512 92.0429,-872.3631 91.8385,-867.3672 91.8385,-867.3672 91.8385,-867.3672 92.0429,-872.3631 96.3348,-867.1833 92.2473,-877.3589 92.2473,-877.3589"/>
</g>
<!-- uInq&#45;&gt;uAgent -->
<g id="edge7" class="edge">
<title>uInq&#45;&gt;uAgent</title>
<path fill="none" stroke="#006400" d="M396.7972,-455.8407C404.4249,-465.3698 413.7078,-476.2044 423,-485.175 496.8087,-556.4294 595.5435,-626.6823 646.4738,-661.354"/>
<polygon fill="#006400" stroke="#006400" points="654.8189,-667.0075 644.0159,-665.1243 650.6793,-664.2031 646.5398,-661.3987 646.5398,-661.3987 646.5398,-661.3987 650.6793,-664.2031 649.0638,-657.6731 654.8189,-667.0075 654.8189,-667.0075"/>
</g>
<!-- uOutq&#45;&gt;uSnd -->
<g id="edge9" class="edge">
<title>uOutq&#45;&gt;uSnd</title>
<path fill="none" stroke="#006400" d="M266.3235,-441.7172C229.3231,-453.7931 167.2864,-476.9926 121,-509.375 115.6566,-513.1132 110.4497,-517.6098 105.6237,-522.2822"/>
<polygon fill="#006400" stroke="#006400" points="98.3887,-529.6856 102.1596,-519.3885 101.8833,-526.1096 105.378,-522.5337 105.378,-522.5337 105.378,-522.5337 101.8833,-526.1096 108.5964,-525.6789 98.3887,-529.6856 98.3887,-529.6856"/>
</g>
<!-- uAgent&#45;&gt;connectionsStore -->
<g id="edge21" class="edge">
<title>uAgent&#45;&gt;connectionsStore</title>
<path fill="none" stroke="#880000" d="M711.4852,-657.7965C717.9336,-653.6916 724.9231,-650.0075 732,-647.5874 772.2162,-633.8351 885.0692,-656.7635 923,-637.5874 941.6618,-628.1529 957.0866,-611.1467 968.5841,-594.8815"/>
<polygon fill="#880000" stroke="#880000" points="703.07,-663.5759 708.7656,-654.2051 707.1916,-660.7452 711.3132,-657.9146 711.3132,-657.9146 711.3132,-657.9146 707.1916,-660.7452 713.8608,-661.624 703.07,-663.5759 703.07,-663.5759"/>
<polygon fill="#880000" stroke="#880000" points="974.235,-586.4875 972.3834,-597.2959 971.4427,-590.6352 968.6505,-594.7829 968.6505,-594.7829 968.6505,-594.7829 971.4427,-590.6352 964.9176,-592.2699 974.235,-586.4875 974.235,-586.4875"/>
</g>
<!-- uAgent&#45;&gt;uOutq -->
<g id="edge11" class="edge">
<title>uAgent&#45;&gt;uOutq</title>
<path fill="none" stroke="#00ff00" d="M647.3926,-678.8545C591.03,-670.0646 478.227,-650.3226 445,-628.5874 382.073,-587.4243 336.0268,-509.6237 313.506,-465.2952"/>
<polygon fill="#00ff00" stroke="#00ff00" points="308.9312,-456.1057 317.4163,-463.0523 311.1595,-460.5818 313.3878,-465.0578 313.3878,-465.0578 313.3878,-465.0578 311.1595,-460.5818 309.3594,-467.0633 308.9312,-456.1057 308.9312,-456.1057"/>
</g>
<!-- runClient -->
<g id="node14" class="node">
<title>runClient</title>
<polygon fill="none" stroke="#ffa500" points="722.7244,-432.175 701.3622,-450.175 658.6378,-450.175 637.2756,-432.175 658.6378,-414.175 701.3622,-414.175 722.7244,-432.175"/>
<text text-anchor="middle" x="680" y="-428.875" font-family="arial" font-size="11.00" fill="#000000">runClient</text>
</g>
<!-- uAgent&#45;&gt;runClient -->
<g id="edge30" class="edge">
<title>uAgent&#45;&gt;runClient</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M680,-655.3136C680,-606.8244 680,-508.5568 680,-460.2585"/>
<polygon fill="#ffa500" stroke="#ffa500" points="680,-450.2007 684.5001,-460.2006 680,-455.2007 680.0001,-460.2007 680.0001,-460.2007 680.0001,-460.2007 680,-455.2007 675.5001,-460.2007 680,-450.2007 680,-450.2007"/>
<text text-anchor="middle" x="688.3335" y="-550.4624" font-family="arial" font-size="10.00" fill="#ffa500">fork</text>
</g>
<!-- sOutq -->
<g id="node15" class="node">
<title>sOutq</title>
<polygon fill="none" stroke="#000000" points="785.5723,-444.175 740.4277,-444.175 740.4277,-420.175 785.5723,-420.175 785.5723,-414.175 803.5723,-432.175 785.5723,-450.175 785.5723,-444.175"/>
<text text-anchor="middle" x="772" y="-435.475" font-family="arial" font-size="11.00" fill="#000000">srv send</text>
<text text-anchor="middle" x="772" y="-422.275" font-family="arial" font-size="11.00" fill="#000000">TBQueue</text>
</g>
<!-- uAgent&#45;&gt;sOutq -->
<g id="edge14" class="edge">
<title>uAgent&#45;&gt;sOutq</title>
<path fill="none" stroke="#0000ff" d="M691.7201,-655.3617C694.9929,-646.8449 698.3694,-637.4155 701,-628.5874 717.6567,-572.6901 706.891,-554.3486 729,-500.375 734.9773,-485.783 744.021,-470.8265 752.2747,-458.6521"/>
<polygon fill="#0000ff" stroke="#0000ff" points="758.09,-450.3239 756.0544,-461.0992 755.2275,-454.4234 752.3649,-458.5229 752.3649,-458.5229 752.3649,-458.5229 755.2275,-454.4234 748.6753,-455.9466 758.09,-450.3239 758.09,-450.3239"/>
</g>
<!-- userState -->
<g id="node19" class="node">
<title>userState</title>
<polygon fill="none" stroke="#000000" points="890.7837,-482.5758 887.7837,-486.5758 866.7837,-486.5758 863.7837,-482.5758 821.2163,-482.5758 821.2163,-381.7742 890.7837,-381.7742 890.7837,-482.5758"/>
<text text-anchor="middle" x="856" y="-468.475" font-family="arial" font-size="11.00" fill="#000000">connected</text>
<text text-anchor="middle" x="856" y="-455.275" font-family="arial" font-size="11.00" fill="#000000">servers,</text>
<text text-anchor="middle" x="856" y="-442.075" font-family="arial" font-size="11.00" fill="#000000">subscribed</text>
<text text-anchor="middle" x="856" y="-428.875" font-family="arial" font-size="11.00" fill="#000000">queues,</text>
<text text-anchor="middle" x="856" y="-415.675" font-family="arial" font-size="11.00" fill="#000000">sent</text>
<text text-anchor="middle" x="856" y="-402.475" font-family="arial" font-size="11.00" fill="#000000">commands</text>
<text text-anchor="middle" x="856" y="-389.275" font-family="arial" font-size="11.00" fill="#000000">(STM)</text>
</g>
<!-- uAgent&#45;&gt;userState -->
<g id="edge19" class="edge">
<title>uAgent&#45;&gt;userState</title>
<path fill="none" stroke="#ff8888" d="M704.5965,-648.5271C733.2286,-607.6125 780.9512,-539.418 815.1684,-490.5224"/>
<polygon fill="#ff8888" stroke="#ff8888" points="698.8351,-656.76 700.8818,-645.9868 701.7019,-652.6635 704.5687,-648.5669 704.5687,-648.5669 704.5687,-648.5669 701.7019,-652.6635 708.2556,-651.147 698.8351,-656.76 698.8351,-656.76"/>
<polygon fill="#ff8888" stroke="#ff8888" points="820.965,-482.2392 818.9183,-493.0124 818.0982,-486.3358 815.2314,-490.4323 815.2314,-490.4323 815.2314,-490.4323 818.0982,-486.3358 811.5445,-487.8522 820.965,-482.2392 820.965,-482.2392"/>
</g>
<!-- uProcess&#45;&gt;connectionsStore -->
<g id="edge22" class="edge">
<title>uProcess&#45;&gt;connectionsStore</title>
<path fill="none" stroke="#880000" d="M851.7516,-673.4815C892.9016,-665.0688 944.0188,-652.1752 960,-637.5874 971.9286,-626.6989 979.4414,-610.8895 984.1595,-595.9076"/>
<polygon fill="#880000" stroke="#880000" points="841.8014,-675.4695 850.7259,-669.0974 846.7045,-674.4899 851.6076,-673.5102 851.6076,-673.5102 851.6076,-673.5102 846.7045,-674.4899 852.4893,-677.923 841.8014,-675.4695 841.8014,-675.4695"/>
<polygon fill="#880000" stroke="#880000" points="986.8747,-586.242 988.5025,-597.0864 985.5224,-591.0556 984.1701,-595.8693 984.1701,-595.8693 984.1701,-595.8693 985.5224,-591.0556 979.8378,-594.6523 986.8747,-586.242 986.8747,-586.242"/>
</g>
<!-- uProcess&#45;&gt;uOutq -->
<g id="edge8" class="edge">
<title>uProcess&#45;&gt;uOutq</title>
<path fill="none" stroke="#006400" d="M783.7916,-655.5842C765.3301,-610.843 727.8949,-526.6664 701,-509.375 632.9965,-465.6537 409.1254,-523.6095 338,-485.175 329.0427,-480.3347 321.505,-472.5258 315.4734,-464.3728"/>
<polygon fill="#006400" stroke="#006400" points="309.7367,-455.862 319.0575,-461.639 312.5314,-460.0081 315.326,-464.1542 315.326,-464.1542 315.326,-464.1542 312.5314,-460.0081 311.5946,-466.6694 309.7367,-455.862 309.7367,-455.862"/>
</g>
<!-- uProcess&#45;&gt;sOutq -->
<g id="edge15" class="edge">
<title>uProcess&#45;&gt;sOutq</title>
<path fill="none" stroke="#0000ff" d="M792.4063,-655.3136C787.9719,-606.8244 778.9852,-508.5568 774.5683,-460.2585"/>
<polygon fill="#0000ff" stroke="#0000ff" points="773.6485,-450.2007 779.0406,-459.7493 774.1039,-455.1799 774.5593,-460.1591 774.5593,-460.1591 774.5593,-460.1591 774.1039,-455.1799 770.078,-460.569 773.6485,-450.2007 773.6485,-450.2007"/>
</g>
<!-- uProcess&#45;&gt;userState -->
<g id="edge20" class="edge">
<title>uProcess&#45;&gt;userState</title>
<path fill="none" stroke="#ff8888" d="M804.283,-645.4015C814.1435,-604.7472 829.8676,-539.9174 841.3917,-492.4041"/>
<polygon fill="#ff8888" stroke="#ff8888" points="801.8789,-655.3136 799.8629,-644.5346 803.0575,-650.4545 804.2361,-645.5953 804.2361,-645.5953 804.2361,-645.5953 803.0575,-650.4545 808.6093,-646.6561 801.8789,-655.3136 801.8789,-655.3136"/>
<polygon fill="#ff8888" stroke="#ff8888" points="843.7835,-482.5431 845.7995,-493.322 842.6049,-487.4022 841.4263,-492.2613 841.4263,-492.2613 841.4263,-492.2613 842.6049,-487.4022 837.0531,-491.2006 843.7835,-482.5431 843.7835,-482.5431"/>
</g>
<!-- uRespq -->
<g id="node13" class="node">
<title>uRespq</title>
<polygon fill="none" stroke="#000000" points="744.5723,-57.4017 699.4277,-57.4017 699.4277,-22.1983 744.5723,-22.1983 744.5723,-16.1983 762.5723,-39.8 744.5723,-63.4017 744.5723,-57.4017"/>
<text text-anchor="middle" x="731" y="-49.7" font-family="arial" font-size="11.00" fill="#000000">user</text>
<text text-anchor="middle" x="731" y="-36.5" font-family="arial" font-size="11.00" fill="#000000">SMP</text>
<text text-anchor="middle" x="731" y="-23.3" font-family="arial" font-size="11.00" fill="#000000">TBQueue</text>
</g>
<!-- uRespq&#45;&gt;uProcess -->
<g id="edge29" class="edge">
<title>uRespq&#45;&gt;uProcess</title>
<path fill="none" stroke="#000000" d="M762.5896,-44.0035C813.9769,-51.7359 910,-70.3048 910,-101.1 910,-553.4624 910,-553.4624 910,-553.4624 910,-598.176 871.4327,-634.7706 838.9675,-657.6542"/>
<polygon fill="#000000" stroke="#000000" points="830.4422,-663.4565 836.1772,-654.1098 834.5757,-660.6432 838.7092,-657.83 838.7092,-657.83 838.7092,-657.83 834.5757,-660.6432 841.2411,-661.5501 830.4422,-663.4565 830.4422,-663.4565"/>
</g>
<!-- sAgent -->
<g id="node17" class="node">
<title>sAgent</title>
<polygon fill="none" stroke="#ffa500" points="656.0134,-172.6875 635.0067,-200.8627 592.9933,-200.8627 571.9866,-172.6875 592.9933,-144.5122 635.0067,-144.5122 656.0134,-172.6875"/>
<text text-anchor="middle" x="614" y="-175.9875" font-family="arial" font-size="11.00" fill="#000000">server</text>
<text text-anchor="middle" x="614" y="-162.7875" font-family="arial" font-size="11.00" fill="#000000">receive</text>
</g>
<!-- runClient&#45;&gt;sAgent -->
<g id="edge12" class="edge">
<title>runClient&#45;&gt;sAgent</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M663.5617,-414.1714C650.0082,-397.4105 633,-371.0774 633,-344.475 633,-344.475 633,-344.475 633,-257.475 633,-242.0587 629.9721,-225.439 626.3339,-211.0334"/>
<polygon fill="#ffa500" stroke="#ffa500" points="623.6113,-200.9841 630.5697,-209.4594 624.9188,-205.8101 626.2263,-210.6361 626.2263,-210.6361 626.2263,-210.6361 624.9188,-205.8101 621.8829,-211.8129 623.6113,-200.9841 623.6113,-200.9841"/>
<text text-anchor="middle" x="642.7235" y="-297.975" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- sSnd -->
<g id="node18" class="node">
<title>sSnd</title>
<polygon fill="none" stroke="#ffa500" points="750.0217,-172.6875 731.0109,-200.8627 692.9891,-200.8627 673.9783,-172.6875 692.9891,-144.5122 731.0109,-144.5122 750.0217,-172.6875"/>
<text text-anchor="middle" x="712" y="-175.9875" font-family="arial" font-size="11.00" fill="#000000">server</text>
<text text-anchor="middle" x="712" y="-162.7875" font-family="arial" font-size="11.00" fill="#000000">send</text>
</g>
<!-- runClient&#45;&gt;sSnd -->
<g id="edge13" class="edge">
<title>runClient&#45;&gt;sSnd</title>
<path fill="none" stroke="#ffa500" stroke-dasharray="5,2" d="M684.2567,-414.1504C688.048,-396.5013 693,-368.7944 693,-344.475 693,-344.475 693,-344.475 693,-257.475 693,-242.0587 696.0279,-225.439 699.6661,-211.0334"/>
<polygon fill="#ffa500" stroke="#ffa500" points="702.3887,-200.9841 704.1171,-211.8129 701.0812,-205.8101 699.7737,-210.6361 699.7737,-210.6361 699.7737,-210.6361 701.0812,-205.8101 695.4303,-209.4594 702.3887,-200.9841 702.3887,-200.9841"/>
<text text-anchor="middle" x="702.7235" y="-297.975" font-family="arial" font-size="10.00" fill="#ffa500">race</text>
</g>
<!-- sOutq&#45;&gt;sSnd -->
<g id="edge16" class="edge">
<title>sOutq&#45;&gt;sSnd</title>
<path fill="none" stroke="#0000ff" d="M767.4159,-414.1688C763.3329,-396.5332 758,-368.8362 758,-344.475 758,-344.475 758,-344.475 758,-257.475 758,-238.8558 749.3238,-220.4171 739.5075,-205.5139"/>
<polygon fill="#0000ff" stroke="#0000ff" points="733.653,-197.1731 743.0814,-202.7728 736.5256,-201.2656 739.3981,-205.3581 739.3981,-205.3581 739.3981,-205.3581 736.5256,-201.2656 735.7149,-207.9434 733.653,-197.1731 733.653,-197.1731"/>
</g>
<!-- sSock -->
<g id="node16" class="node">
<title>sSock</title>
<polygon fill="none" stroke="#0000ff" points="619.2006,-450.175 434.7994,-450.175 434.7994,-414.175 619.2006,-414.175 619.2006,-450.175"/>
<text text-anchor="middle" x="527" y="-428.875" font-family="arial" font-size="11.00" fill="#000000">SMP client connection TCP socket</text>
</g>
<!-- sSock&#45;&gt;sAgent -->
<g id="edge18" class="edge">
<title>sSock&#45;&gt;sAgent</title>
<path fill="none" stroke="#0000ff" d="M533.3267,-413.9457C538.8538,-396.3776 546,-368.9339 546,-344.475 546,-344.475 546,-344.475 546,-257.475 546,-234.2863 561.6699,-213.8223 577.9653,-198.8106"/>
<polygon fill="#0000ff" stroke="#0000ff" points="585.9492,-191.8912 581.3395,-201.8412 582.1708,-195.1659 578.3923,-198.4406 578.3923,-198.4406 578.3923,-198.4406 582.1708,-195.1659 575.4451,-195.04 585.9492,-191.8912 585.9492,-191.8912"/>
</g>
<!-- sAgent&#45;&gt;uRespq -->
<g id="edge28" class="edge">
<title>sAgent&#45;&gt;uRespq</title>
<path fill="none" stroke="#000000" d="M636.8365,-146.75C655.8728,-125.1288 683.0563,-94.254 703.3269,-71.2308"/>
<polygon fill="#000000" stroke="#000000" points="710.1839,-63.4427 706.9532,-73.9219 706.8798,-67.1955 703.5757,-70.9482 703.5757,-70.9482 703.5757,-70.9482 706.8798,-67.1955 700.1982,-67.9746 710.1839,-63.4427 710.1839,-63.4427"/>
</g>
<!-- sSnd&#45;&gt;sSock -->
<g id="edge17" class="edge">
<title>sSnd&#45;&gt;sSock</title>
<path fill="none" stroke="#0000ff" d="M693.7955,-200.8992C685.9738,-211.2174 676.0767,-222.2439 665,-229.975 634.5137,-251.2531 586,-220.2974 586,-257.475 586,-344.475 586,-344.475 586,-344.475 586,-368.2876 570.8403,-390.4932 555.8897,-406.6024"/>
<polygon fill="#0000ff" stroke="#0000ff" points="548.6344,-414.0012 552.4229,-403.7105 552.1352,-410.4312 555.6359,-406.8612 555.6359,-406.8612 555.6359,-406.8612 552.1352,-410.4312 558.8489,-410.0118 548.6344,-414.0012 548.6344,-414.0012"/>
</g>
</g>
</svg>
